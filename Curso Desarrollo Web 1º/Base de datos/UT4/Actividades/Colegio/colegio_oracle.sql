
CREATE TABLE CURSO (
	ID_CURSO NUMBER NOT NULL,
	NOMBRE VARCHAR2(45) NOT NULL,
	IND_VISIBLE NUMBER(1) DEFAULT '1' NOT NULL,
  CONSTRAINT PK_CURSO PRIMARY KEY (ID_CURSO)
);

COMMENT ON TABLE CURSO IS 'Tabla de cursos';
COMMENT ON COLUMN CURSO.ID_CURSO IS 'Identificador del curso';
COMMENT ON COLUMN CURSO.NOMBRE IS 'Nombre del curso';
COMMENT ON COLUMN CURSO.IND_VISIBLE IS 'Indica si el curso es(1) o no(0) visible';

INSERT INTO CURSO (ID_CURSO, NOMBRE)  VALUES (1 , 'DAM 1');
INSERT INTO CURSO (ID_CURSO, NOMBRE)  VALUES (2 , 'DAM 2');
INSERT INTO CURSO (ID_CURSO, NOMBRE)  VALUES (3 , 'SMR 1');
INSERT INTO CURSO (ID_CURSO, NOMBRE)  VALUES (4 , 'FPB INF 1');

CREATE TABLE ASIGNATURA (
  ID_ASIGNATURA NUMBER NOT NULL, 
  NOMBRE VARCHAR2(100) NOT NULL,
  ID_CURSO NUMBER NOT NULL,
  HORAS NUMBER DEFAULT '0' NOT NULL,
  IND_VISIBLE NUMBER(1) DEFAULT '1' NOT NULL,
  CONSTRAINT PK_ASIGNATURA PRIMARY KEY (ID_ASIGNATURA),
  CONSTRAINT FK_ASIGNATURA_CURSO  FOREIGN KEY (ID_CURSO) REFERENCES CURSO(ID_CURSO)
);

COMMENT ON TABLE ASIGNATURA IS 'Tabla de asignaturas';
COMMENT ON COLUMN ASIGNATURA.ID_ASIGNATURA IS 'Identificador de la Asignatura';
COMMENT ON COLUMN ASIGNATURA.NOMBRE IS 'Nombre de la asignatura';
COMMENT ON COLUMN ASIGNATURA.ID_CURSO IS 'Curso al que pertenece la asignatura';
COMMENT ON COLUMN ASIGNATURA.HORAS IS 'Horas lectivas de la asignatura';
COMMENT ON COLUMN ASIGNATURA.IND_VISIBLE IS 'Indica si la asignatura es(1) o no(0) visible';

INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (1 , 'BASE DE DATOS', 1, 8);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (2 , 'INGLES', 1, 3);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (3 , 'FOL', 1, 2);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (4 , 'SISTEMAS INFORMATICOS', 1, 4);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (5 , 'ENTORNOS DE DESARROLLO', 1, 3);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (6 , 'LENGUAJES DE MARCAS', 1, 6);

INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (7 , 'EMPRESA E INICIATIVA EMPRENDEDORA', 2, 3);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (8 , 'ACCESO A DATOS', 2, 6);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (9 , 'PROGRAMACIÓN MULTIMEDIA', 2, 7);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (10 , 'PROGRAMACIÓN DE SERVICIOS Y PROCESOS', 2, 3);

INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (11 , 'MONTAJE Y MANTENIMIENTO DE EQUIPOS', 3, 3);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (12 , 'REDES LOCALES', 3, 7);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (13 , 'SISTEMAS OPERATIVOS', 3, 5);
INSERT INTO ASIGNATURA (ID_ASIGNATURA, NOMBRE, ID_CURSO, HORAS)  VALUES (14 , 'INGLES TECNICO', 3, 2);

CREATE TABLE TIPO_EMPLEADO (
  ID_TIPO_EMPLEADO NUMBER NOT NULL, 
  NOMBRE_TIPO VARCHAR2(45) NOT NULL, 
  IND_PROFESOR NUMBER(1) DEFAULT '1' NOT NULL,
  IND_VISIBLE NUMBER(1) DEFAULT '1' NOT NULL,
  CONSTRAINT PK_TIPO_EMPLEADO PRIMARY KEY (ID_TIPO_EMPLEADO),
  CONSTRAINT IDX_TIPO_EMPLEADO_NOMBRE UNIQUE (NOMBRE_TIPO)
);

COMMENT ON TABLE TIPO_EMPLEADO IS 'Tabla de tipo de empleados';
COMMENT ON COLUMN TIPO_EMPLEADO.ID_TIPO_EMPLEADO IS 'Identificador del Tipo de Empleado';
COMMENT ON COLUMN TIPO_EMPLEADO.NOMBRE_TIPO IS 'Nombre del Tipo de Empleado';
COMMENT ON COLUMN TIPO_EMPLEADO.IND_PROFESOR IS 'Indica si el empleado es(1) o no(0) profesor';
COMMENT ON COLUMN TIPO_EMPLEADO.IND_VISIBLE IS 'Indica si el campo es(1) o no(0) visible';


INSERT INTO TIPO_EMPLEADO (ID_TIPO_EMPLEADO, NOMBRE_TIPO)  VALUES (1 , 'PROFESOR');
INSERT INTO TIPO_EMPLEADO (ID_TIPO_EMPLEADO, NOMBRE_TIPO, IND_PROFESOR)  VALUES (2 , 'ADMINISTRATIVO', 0);

CREATE TABLE EMPLEADO (
  ID_EMPLEADO NUMBER NOT NULL, 
  NOMBRE VARCHAR2(50) NOT NULL,
  APELLIDOS VARCHAR2(100) NOT NULL,
  DNI VARCHAR2(10) NOT NULL,
  ID_TIPO_EMPLEADO NUMBER NOT NULL,
  DOMICILIO VARCHAR2(100),
  CODIGO_POSTAL NUMBER,
  EMAIL VARCHAR2(100),
  IND_VISIBLE NUMBER(1) DEFAULT '1' NOT NULL,
  CONSTRAINT PK_EMPLEADO PRIMARY KEY (ID_EMPLEADO),
  CONSTRAINT FK_EMPLEADO_TIPO  FOREIGN KEY (ID_TIPO_EMPLEADO) REFERENCES TIPO_EMPLEADO(ID_TIPO_EMPLEADO)
);

COMMENT ON TABLE EMPLEADO IS 'Tabla de empleados';
COMMENT ON COLUMN EMPLEADO.ID_EMPLEADO IS 'Identificador del Empleado';
COMMENT ON COLUMN EMPLEADO.NOMBRE IS 'Nombre del Empleado';
COMMENT ON COLUMN EMPLEADO.APELLIDOS IS 'Apellidos del Empleado';
COMMENT ON COLUMN EMPLEADO.DNI IS 'DNI del Empleado';
COMMENT ON COLUMN EMPLEADO.ID_TIPO_EMPLEADO IS 'Tipo de Empleado';
COMMENT ON COLUMN EMPLEADO.DOMICILIO IS 'Domicilio del Empleado';
COMMENT ON COLUMN EMPLEADO.CODIGO_POSTAL IS 'Codigo postal del Empleado';
COMMENT ON COLUMN EMPLEADO.EMAIL IS 'Email del Empleado';
COMMENT ON COLUMN EMPLEADO.IND_VISIBLE IS 'Indica si el Empleado es(1) o no(0) visible';


INSERT INTO EMPLEADO (ID_EMPLEADO, NOMBRE, APELLIDOS, DNI, ID_TIPO_EMPLEADO, DOMICILIO, CODIGO_POSTAL, EMAIL)  
	VALUES (1 , 'Yolanda', 'Moreno', '01234566A', 1, NULL, 13600, 'ymoreno@efamoratalaz.com');
INSERT INTO EMPLEADO (ID_EMPLEADO, NOMBRE, APELLIDOS, DNI, ID_TIPO_EMPLEADO, DOMICILIO, CODIGO_POSTAL, EMAIL)  
	VALUES (2 , 'Jose Angel', 'Tebar', '05234566B', 2, NULL, NULL, 'jatebar@efamoratalaz.com');

CREATE TABLE IMPARTE (
  ID_IMPARTE NUMBER NOT NULL,
  ID_EMPLEADO NUMBER NOT NULL, 
  ID_ASIGNATURA NUMBER NOT NULL, 
  IND_VISIBLE NUMBER(1) DEFAULT '1' NOT NULL,
  CONSTRAINT PK_IMPARTE PRIMARY KEY (ID_IMPARTE),
  CONSTRAINT FK_IMPARTE_EMPLEADO  FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADO(ID_EMPLEADO),
  CONSTRAINT FK_IMPARTE_ASIGNATURA  FOREIGN KEY (ID_ASIGNATURA) REFERENCES ASIGNATURA(ID_ASIGNATURA),
  CONSTRAINT IDX_IMPARTE_PROF_ASIG UNIQUE (ID_EMPLEADO, ID_ASIGNATURA)
);

COMMENT ON TABLE IMPARTE IS 'Tabla de Imparte';
COMMENT ON COLUMN IMPARTE.ID_IMPARTE IS 'Identificador de la tabla';
COMMENT ON COLUMN IMPARTE.ID_EMPLEADO IS 'Identificador del Profesor';
COMMENT ON COLUMN IMPARTE.ID_ASIGNATURA IS 'Identificador de la Asignatura';
COMMENT ON COLUMN IMPARTE.IND_VISIBLE IS 'Indica si el registro es(1) o no(0) visible';

INSERT INTO IMPARTE (ID_IMPARTE, ID_EMPLEADO, ID_ASIGNATURA)  VALUES (1 , 1, 5);
INSERT INTO IMPARTE (ID_IMPARTE, ID_EMPLEADO, ID_ASIGNATURA)  VALUES (2 , 1, 6);
INSERT INTO IMPARTE (ID_IMPARTE, ID_EMPLEADO, ID_ASIGNATURA)  VALUES (3 , 1, 9);
INSERT INTO IMPARTE (ID_IMPARTE, ID_EMPLEADO, ID_ASIGNATURA)  VALUES (4 , 1, 13);

COMMIT;
